# 例外処理

OAuth経由のサインインやら何やら例外処理がいい加減すぎて機会損失著しい7kai Tasksですが、中身の例外処理も丁寧に作り込みを始めています。

大雑把に例外処理と言っても

- 入力値不正 (未入力等)
- 通信エラー (クライアント・サーバー間)
- サーバーサイドのエラー (実行時エラー,権限エラー,重複/存在チェック等...)

などがあります、まだあります。

特にケアが面倒なのは、ユーザーのアクション後、先にDOMを書き換えてAjax通信するタイプの処理で、失敗の旨メッセージを出した後にDOMを戻さなくてはなりません。

7kai Tasksの場合、例えばタスクの削除に失敗すると、消したDOMを再出現させ、減算させたカウンターも必要応じて戻する必要があります。（現在は手抜き実装）

Ajax処理の結束やオフラインモードの実装はその先、完成と言えるのはまだまだ先になりそうです。
